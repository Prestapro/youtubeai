üìÑ README.md

# üé¨ YouTubeAI ‚Äî Extract Clips by Keyword

–°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –∏–∑ –≤–∏–¥–µ–æ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º.  
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç OpenAI Whisper –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏ –∏ MoviePy/FFmpeg –¥–ª—è –Ω–∞—Ä–µ–∑–∫–∏ –≤–∏–¥–µ–æ.

---

## üì¶ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ –≤–æ –≤—Å—ë–º –≤–∏–¥–µ–æ (–≤ —Ç.—á. —Å YouTube)
- –ü–æ–∏—Å–∫ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –∏ –∏—Ö —Ñ–æ—Ä–º –≤ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–µ
- –ù–∞—Ä–µ–∑–∫–∞ –≤–∏–¥–µ–æ—Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –ø–æ —Ç–∞–π–º–∫–æ–¥–∞–º
- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ —Å—É–±—Ç–∏—Ç—Ä–æ–≤
- –ü—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ —Ä–µ–ø–ª–∏–∫ —Ä–∞–∑–ª–∏—á–Ω—ã–º –≥–æ–≤–æ—Ä—è—â–∏–º (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–∞–Ω–Ω—ã–µ –æ —Å–ø–∏–∫–µ—Ä–∞—Ö)
- –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:
  - –í—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞ –Ω–∞—á–∞–ª–∞ –∏ –∫–æ–Ω—Ü–∞ (—Ç–∞–π–º–∫–æ–¥)
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–ø–æ–º–∏–Ω–∞–Ω–∏–π —Å–ª–æ–≤–∞ (–∫–∞—É–Ω—Ç–µ—Ä)
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∑–∞–ø—É—Å–∫–∞ –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Å–ª–æ–≤ (`--partial`)
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –æ—Ç—Å—Ç—É–ø—ã –≤–æ–∫—Ä—É–≥ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ (`--padding-before`, `--padding-after`)
- –ü–æ—Å—Ç-–æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–∞ —á–µ—Ä–µ–∑ GPT-4 (`--correct`)

---

## üõ† –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```text
openai-whisper     # –∏–ª–∏ faster-whisper –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–Ω–æ–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
moviepy
ffmpeg-python
srt
numpy
torch
nltk
pymorphy2
tqdm
openai             # –¥–ª—è GPT-–ø–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∏ —á–µ—Ä–µ–∑ —Ñ–ª–∞–≥ --correct
```

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
pip install -r requirements.txt

–¢–∞–∫–∂–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, —á—Ç–æ–±—ã –≤ —Å–∏—Å—Ç–µ–º–µ –±—ã–ª —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ffmpeg.

–ù–∞ macOS:

brew install ffmpeg



‚∏ª

‚ñ∂Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
python extract_clips_by_keyword.py \
  --video ./input.mp4 \
  --keywords "–ø—Ä–∏–º–µ—Ä" \
  --download-video \
  --partial \
  --padding-before 2.0 \
  --padding-after 0.5 \
  --correct \
  --keep-clips
```

### –ê—Ä–≥—É–º–µ–Ω—Ç—ã

| –ê—Ä–≥—É–º–µ–Ω—Ç           | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                   |
|--------------------|--------------------------------------------------------------------------------------------|
| `--video`          | –ü—É—Ç—å –∫ –≤–∏–¥–µ–æ—Ñ–∞–π–ª—É (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)                                                          |
| `--keywords`       | –°–ª–æ–≤–æ –∏–ª–∏ —Ñ—Ä–∞–∑–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)                                                 |
| `--output`         | –ü–∞–ø–∫–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `output/`)                                   |
| `--language`       | –Ø–∑—ã–∫ –∞—É–¥–∏–æ (`ru`, `en`, –∏ —Ç.–ø.)                                                            |
| `--model`          | –ú–æ–¥–µ–ª—å Whisper (`base`, `medium`, `large` –∏ –¥—Ä.)                                          |
| `--partial`        | –†–∞–∑—Ä–µ—à–∏—Ç—å —á–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å–ª–æ–≤ (–ø—Ä–∏–º–µ—Ä ‚Üí –Ω–∞–ø—Ä–∏–º–µ—Ä), –Ω–æ –Ω–µ –ø–æ–¥—Å—Ç—Ä–æ–∫–∏ (–º–∏—Ä ‚â† –º–∏—Ä–æ–µ–¥)     |
| `--padding-before` | –°–µ–∫—É–Ω–¥ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –Ω–∞–π–¥–µ–Ω–Ω—ã–º —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1.0)                        |
| `--padding-after`  | –°–µ–∫—É–Ω–¥ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1.0)                        |
| `--correct`        | –ü–æ—Å—Ç-–æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–∞ —á–µ—Ä–µ–∑ GPT-4 –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è |
| `--download-video` | –°–æ—Ö—Ä–∞–Ω—è—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –≤–∏–¥–µ–æ—Ñ–∞–π–ª –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —É–¥–∞–ª—è–µ—Ç—Å—è)               |
| `--keep-clips`     | –ù–µ —É–¥–∞–ª—è—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–ª–∏–ø—ã –ø–æ—Å–ª–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –≤ final.mp4 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —É–¥–∞–ª—è—é—Ç—Å—è)      |

## –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
- –æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –≤–∞—à–∏ PR –∏ issue, –¥–æ—Å—Ç—É–ø –ø—É–±–ª–∏—á–Ω—ã–π, –í—ã –º–æ–∂–µ—Ç–µ –∫–∞—á–∞—Ç—å, –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è, —Ä–∞—Å–ø—Ä–∞—Å—Ç—Ä–∞–Ω—è—Ç—å, –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –∏–¥–µ–∏.


‚∏ª

üìÅ –í—ã—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã
- clip_*.mp4 ‚Äî –Ω–∞—Ä–µ–∑–∞–Ω–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –≤–∏–¥–µ–æ
- final.mp4 ‚Äî –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–π —Ñ–∞–π–ª –∏–∑ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤
- transcript_<n>.txt ‚Äî –ø–æ–ª–Ω–∞—è —Ç–µ–∫—Å—Ç–æ–≤–∞—è –≤–µ—Ä—Å–∏—è —Ä–µ—á–∏ (–∏–º—è –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è)
- video.json ‚Äî JSON —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –∏ —Å–µ–≥–º–µ–Ω—Ç–∞–º–∏

‚∏ª

üí° ToDo
- Speaker diarization (—Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –≥–æ–≤–æ—Ä—è—â–∏—Ö)
- –≠–∫—Å–ø–æ—Ä—Ç –≤ .srt –∏–ª–∏ .vtt —Å—É–±—Ç–∏—Ç—Ä—ã
- Telegram-–±–æ—Ç –∏–ª–∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∏ –æ–ø–∏—Å–∞–Ω–∏–π
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å YouTube API

‚∏ª

üë§ –ê–≤—Ç–æ—Ä

Prestapro & ChatGPT
GitHub: github.com/Prestapro